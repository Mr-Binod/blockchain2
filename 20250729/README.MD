# 브릿지 오라클

## 브릿지의 구조

> 이더리움 체인에서 Lock 컨트랙트 실행 자신을 잠금처리 -> Lock 이벤트 발생
> 브릿지에서 relayer 에서 relayer 에서 이벤트 감지 다른 네트워크의 컨트랙트에서 wEth mint 를 오쳔
> 다른 네트워크의 wETH 는 이더와 동일한 가치를 가지는 토큰 -> 유도성 풀을 가지고 있는 DEX 거래소 에소 스왑이 가능하다


### Lock 컨트랙트 생성

1. 스홥을 요청하는 지갑의 일정 자산을 잠금
2. 잠금처리된 자산을 이후에 소각 또는 언락 할수 있는 구조
3. 이벤트 발생이되면 relayer에서 감지를 할수 있는 이벤트명을 사용

> Lock 컨트랙트는 자산을 잠가놓는 금고내용처럼 보면 된다
> Lock 컨트랙트에는 자산을 송슴하면 잠금처리하고 잠금 처리에 대한 이벤트를 호출해서 입금의 증명을 한뒤 브릿지의 relayer 에서 이벤트를 구족하고 있다고 이벤트가 발생하면 스왑 을 요청하는 네트워크에 wETH의 토큰을 민팅


### Lock 컨트렉트 내부 구조

1. 사용자의 잠금 금액을 표현
2. 총 잠금 금액
3. Lock event call

### 주의 
> 금전적은 스왑의 내용을 작성하떄 주의할점
> 재진입 공격 방지 인터렉션 패턴과 뮤텍스 패턴 잘 사용해서 작성

### Wrapped Token
> 메인넷의 자산을 다른 네트워크에서 표현하기위해서 사용하는 토큰
> w를 봍여서 wETH 이런식으로 자산을 표현한다 . wBETH 등
> 단순히 erc20 규격으로 만들어진 토큰 표준 => 사요호작용 가능한 DEX에섯 스왑을 할수 있다.


#### 스왑 구조 현상태
이더리움 (lock) => 폴리곤 (mint)(wETH)



``` 